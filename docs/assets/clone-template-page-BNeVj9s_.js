import{j as e,u as d,r,a as p,c as u}from"./index-9UMoLW-9.js";import{S as f}from"./spinner-BUVOhwbt.js";import{u as g}from"./use-storage-B2HVcLnk.js";import{L as x,T as j}from"./theme-provider-3budwQhK.js";import{S as T}from"./storage-provider-DyuynD2G.js";import"./database-type-C2NNW5SW.js";const v=()=>{const t=d(),{addDiagram:s,deleteDiagram:o}=g(),n=r.useRef(!1),a=p().template,i=r.useCallback(async()=>{if(!a||n.current)return;n.current=!0;const c=u(a);await o(c.id);const m=new Date,l={...c,createdAt:m,updatedAt:m};await s({diagram:l}),t(`/diagrams/${l.id}`)},[s,o,t,a]);return r.useEffect(()=>{a?i():t("/templates")},[a,t,i]),e.jsx("section",{className:"flex w-screen flex-col bg-background",children:e.jsx(f,{size:"large",className:"mt-20 text-pink-600"})})},b=()=>e.jsx(x,{children:e.jsx(T,{children:e.jsx(j,{children:e.jsx(v,{})})})});export{v as CloneTemplateComponent,b as CloneTemplatePage};
